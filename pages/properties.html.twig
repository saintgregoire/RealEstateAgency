{% extends 'layout.html.twig' %}

{% block description %}
  On  this page it's all information properties for the selection of real estate.
{% endblock %}

{% block title %}
  Properties page.
  {{ parent() }}
{% endblock %}

{% block content %}
  <main>
    <section class="dream">
      <h2 class="sr-only">Just one step to the property of your dream</h2>
      <div class="dream__txt">
        <div class="container">
          <h1>Find Your Dream Property</h1>
        <p>Welcome to Estatein, where your dream property awaits in every corner of our beautiful world. Explore our curated selection of properties, each offering a unique story and a chance to redefine your life. With categories to suit every dreamer, your journey </p>
        </div>
      </div>
      <form action="index.php?route=check-property" method="POST" id="searchForm" class="dream__form">
        <input class="dream__search" type="text" name="search" id="search" placeholder="Search For A Property" autocomplete="off">
        <button type="submit">
          <i class="fa-solid fa-magnifying-glass"></i>
          <span class="dream__span">Find Property</span>
        </button>
        <ul class="dream__options hidden">
          {% for property in allProperties %}
          <li>{{ property.name|e }}</li>
          {% endfor %}
        </ul>
      </form>
    </section>

    <section class="featured_swiper container">
      <div class="stars">
        <img src="/RealEstateAgency/assets/icons/star.png" alt="stars icon" width="46" height="20">
      </div>
      <h2 class="featured__title">Discover a World of Possibilities</h2>
      <p class="featured__paragraph">Our portfolio of properties is as diverse as your dreams. Explore the following categories to find the perfect property that resonates with your vision of home</p>
      <div class="featured__swiper">
        {% for property in allProperties %}
          <article class="featured__card">
            <div class="featured__card_img">
              <img src="{{ property.img_url|e }}" alt="{{ property.name|e }}" width="264" height="210">
            </div>
            <h3>{{ property.name|e }}</h3>
            <p class="featured__card_text">{{ property.description|e }}</p>
            <div class="featured__card_notes">
              <div class="featured__card_note">
                <img src="/RealEstateAgency/assets/icons/bedroom.svg" alt="bedroom icon" width="20" height="20">
                <p>{{ property.no_bedrooms|e }}-Bedroom</p>
              </div>
              <div class="featured__card_note">
                <img src="/RealEstateAgency/assets/icons/Bathroom.svg" alt="Bathroom icon" width="20" height="20">
                <p>{{ property.no_bathrooms|e }}-Bathroom</p>
              </div>
              <div class="featured__card_note">
                <img src="/RealEstateAgency/assets/icons/villa.svg" alt="Building icon" width="20" height="20">
                <p>{{ property.type|e }}</p>
              </div>
            </div>
            <div class="featured__card_footer">
              <p class="featured__card_price">Price</p>
              <p class="featured__card_value">{{ property.price|e }}</p>
              <a href="index.php?route=propertyDetails&property={{ property.id }}"><p>View Property Details</p></a>
            </div>
          </article>
        {% endfor %}
        <div class="js-overlay"></div>
      </div>
      <div class="featured__btn_container">
        <div class="featured__btn left" tabindex="0">
          <div class="arrow">
            <span></span>
          </div>
        </div>
        <div class="featured__btn right" tabindex="0">
          <div class="arrow">
            <span></span>
          </div>
        </div>
      </div>
    </section>

    <section class="happen container">
      <div class="stars">
        <img src="/RealEstateAgency/assets/icons/star.png" alt="stars icon" width="46" height="20">
      </div>
      <h2>Let's Make it Happen</h2>
      <p class="happen__paragraph">Ready to take the first step toward your dream property? Fill out the form below, and our real estate wizards will work their magic to find your perfect match. Don't wait; let's embark on this exciting journey together.</p>
      <form action="index.php?route=properties" method="POST" class="js-properties-form" novalidate>
        <input type="hidden" name="csrf-token" id="csrf-token" value="{{ csrf_token }}" />
        <fieldset class="happen__first_name happen__fieldset">
          <label for="first_name" class="happen__label">First Name</label>
          <input type="text" name="first_name" id="first_name" class="happen__input" placeholder="Enter First Name">
        </fieldset>
        
        <fieldset class="happen__last_name happen__fieldset">
          <label for="last_name" class="happen__label">Last Name</label>
          <input type="text" name="last_name" id="last_name"  class="happen__input" placeholder="Enter Last Name">
        </fieldset>

        <fieldset class="happen__email happen__fieldset">
          <label for="email" class="happen__label">Email</label>
          <input type="email" name="email" id="email"  class="happen__input" placeholder="Enter your Email">
        </fieldset>

        <fieldset class="happen__phone happen__fieldset">
          <label for="phone" class="happen__label">Phone</label>
          <input type="tel" name="phone" id="phone" class="happen__input" placeholder="Enter Phone Number">
        </fieldset>

        <fieldset class="happen__location happen__fieldset">
          <label for="location" class="happen__label">Preferred Location</label>
          <select id="location" name="location" class="happen__select">
            <option value="" disabled selected hidden>Select Location</option>
            <option value="California">California</option>
            <option value="Dubai">Dubai</option>
            <option value="Paris">Paris</option>
            <option value="other">Other</option>
          </select>
        </fieldset>

        <fieldset class="happen__type happen__fieldset">
          <label for="type" class="happen__label">Property Type</label>
          <select id="type" name="type" class="happen__select">
            <option value="" selected hidden>Select Property Type</option>
            <option value="villa">Villa</option>
            <option value="apartments">Apartments</option>
          </select>
        </fieldset>

        <fieldset class="happen__bathrooms happen__fieldset">
          <label for="bathrooms" class="happen__label">No. of Bathrooms</label>
          <select id="bathrooms" name="bathrooms" class="happen__select">
            <option value="" selected hidden>Select no. of Bathrooms</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="2+">2+</option>
          </select>
        </fieldset>

        <fieldset class="happen__bedrooms happen__fieldset">
          <label for="bedrooms" class="happen__label">No. of Bedrooms</label>
          <select id="bedrooms" name="bedrooms" class="happen__select">
            <option value="" selected hidden>Select no. of Bedrooms</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
          </select>
        </fieldset>

        <fieldset class="happen__budget happen__fieldset">
          <label for="budget" class="happen__label">Budget</label>
          <select id="budget" name="budget" class="happen__budget_select happen__select">
            <option value="" disabled selected hidden>Select Budget</option>
            <option value="200K">200K+</option>
            <option value="500K">500K+</option>
            <option value="1M">1M</option>
          </select>
        </fieldset>

        <fieldset class="happen__message happen__fieldset">
          <label for="message" class="happen__label">Message</label>
          <textarea name="message" id="message" placeholder="Enter your Message here.." rows="4" class="happen__textarea"></textarea>
        </fieldset>

        <fieldset class="happen__check happen__fieldset">
          <input type="checkbox" id="agree" name="agree" class="happen__checkbox">
          <label for="agree" class="happen__agree happen__label">I agree with <a href="index.php?route=terms">Terms of Use & Privacy Policy</a></label>
        </fieldset>

        <button type="submit">Send Your Message</button>

      </form>
    </section>
  </main>
{% endblock %}

{% block pop_up %}
  <!-- ? POP_UP FORM SUCCESS -->
  <div class="pop-up {% if formValid is not defined or formValid is same as false %}hidden{% endif %}">
    <article class="pop-up__article">
      <div class="pop-up__logo">
        <img src="/RealEstateAgency/assets/img/Logo.png" alt="Logo of Estatein" width="93" height="28">
      </div>
      <h2>Thank you for your submission!</h2>
      <p>Our team at Estatein will review your information and get back to you shortly. </p>
      <p>Have a great day!</p>
      <div class="pop-up__close" tabindex="0" aria-label="Close pop-up"></div>
    </article>
  </div>
{% endblock %}
